(()=>{function m(o){for(var e=o+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var c=n[t];c.charAt(0)===" ";)c=c.substring(1);if(c.indexOf(e)===0)return c.substring(e.length,c.length)}return""}function p(o,e,n){var t=new Date;t.setTime(t.getTime()+n*24*60*60*1e3);var c="expires="+t.toUTCString();document.cookie=o+"="+e+";"+c+";path=/"}m("cookies-state")!=="accepted"&&(document.body.insertAdjacentHTML("beforeend",'<div id="cookie-bar" class="cookie-bar"><span class="cookie-message">We use cookies to provide our services and enhance your experience. By using this website, you agree with this.</span><button type="button" class="accept-cookies">OK</button></div>'),document.querySelector("#cookie-bar .accept-cookies").addEventListener("click",()=>{p("cookies-state","accepted",365),document.querySelector("#cookie-bar").style.bottom="-100%"}));if(!m("sitevisitor")){let o=new Object,e=new Date(Date().toLocaleString("de-DE",{timeZone:"Europe/Sofia"}));o.referer=document.referrer,o.request=location.pathname.substring(1),o.time=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+("0"+e.getSeconds()).slice(-2),p("sitevisitor",btoa(JSON.stringify(o)),365)}function g(o){document.querySelector(o).innerHTML='<div class="loading mb-2" style="display: block;"></div>'}function L(o){o.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();let t=this.getAttribute("data-append"),c=this.getAttribute("data-confirm");if(c&&!window.confirm(c))return;this.getAttribute("data-silent")||g(t);let a=new FormData;a.append("ajax","true"),window.fetch(this.href,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:a}).then(r=>{if(r.ok)return r.text();throw new Error(`${r.status} ${r.statusText}`)}).then(r=>{let i=document.querySelector(t);i.innerHTML=r,f(i)}).catch(r=>{console.log(r)})})})}function k(o){o.forEach(function(e){e.addEventListener("submit",function(n){n.preventDefault();let t=this.getAttribute("data-append"),c=document.querySelector("#hero"),a=document.querySelector(".search-bar");c&&c.remove(),a.classList.contains("d-none")||a.classList.add("d-none"),this.getAttribute("data-silent")||g(t);let r=new FormData(this);r.append("ajax","true"),fetch(this.getAttribute("action"),{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:r}).then(i=>{if(i.ok)return i.text();throw new Error(`${i.status} ${i.statusText}`)}).then(i=>{let l=document.querySelector(t);l.innerHTML=i,f(l)}).catch(i=>{console.log(i)})})})}function f(o){L(o.querySelectorAll(".ajaxlink")),k(o.querySelectorAll(".ajaxform"))}f(document);var h=document.querySelector(".scroll-top");if(h){let o=function(){window.scrollY>100?h.classList.add("active"):h.classList.remove("active")};window.addEventListener("load",o),document.addEventListener("scroll",o),h.addEventListener("click",window.scrollTo({top:0,behavior:"smooth"}))}var v=document.querySelector(".search-bar-toggle");v&&v.addEventListener("click",()=>{document.querySelector(".search-bar").classList.toggle("d-none")});var j=document.querySelector(".mobile-nav-show"),E=document.querySelector(".mobile-nav-hide");document.querySelectorAll(".mobile-nav-toggle").forEach(o=>{o.addEventListener("click",function(e){e.preventDefault(),T()})});function T(){document.querySelector("body").classList.toggle("mobile-nav-active"),j.classList.toggle("d-none"),E.classList.toggle("d-none")}var x=document.querySelectorAll(".navbar .nav-categories > a");x.forEach(o=>{o.addEventListener("click",function(e){document.querySelector(".mobile-nav-active")&&(e.preventDefault(),this.classList.toggle("active"),this.nextElementSibling.classList.toggle("nav-categories-active"))})});function b(o){window.scrollTo({top:document.querySelector(o).offsetTop-document.querySelector("#header").offsetHeight,behavior:"smooth"})}document.querySelectorAll(".scrollto").forEach(o=>o.addEventListener("click",function(e){document.querySelector(this.hash)&&(e.preventDefault(),b(this.hash))}));window.addEventListener("load",()=>{window.location.hash=="#download"&&document.querySelector("#download-template")&&b("#download-template")});function S(){let o=document.querySelector("#loadmore");if(o&&o.offsetTop-window.scrollY-2200<0){let n=o.getAttribute("data-url");o.remove(),fetch(n,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>{if(t.ok)return t.text();throw new Error(`${t.status} ${t.statusText}`)}).then(t=>{document.querySelector(".loadmore").insertAdjacentHTML("beforeend",t)}).catch(t=>{console.log(t)})}}S();window.addEventListener("scroll",S);var d=document.querySelector("#confirm-newsletter");if(d){document.querySelector("#confirm-newsletter .loading").classList.add("d-block");let o=new FormData;o.append("key",d.getAttribute("data-key")),o.append("confirm",d.getAttribute("data-confirm")),window.fetch(d.getAttribute("data-url"),{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:o}).then(e=>{if(e.ok)return e.text();throw new Error(`${e.status} ${e.statusText}`)}).then(e=>{d.innerHTML=e}).catch(e=>{console.log(e)})}document.addEventListener("DOMContentLoaded",()=>{"use strict";document.querySelectorAll(".php-email-form").forEach(function(t){t.addEventListener("submit",function(c){c.preventDefault();let a=this,r=a.getAttribute("action"),i=a.getAttribute("data-recaptcha-site-key");if(!r){n(a,"The form action property is not set!");return}a.querySelector(".loading").classList.add("d-block"),a.querySelector(".error-message").classList.remove("d-block"),a.querySelector(".sent-message").classList.remove("d-block");let l=new FormData(a);i?typeof grecaptcha<"u"?grecaptcha.ready(function(){try{grecaptcha.execute(i,{action:"php_email_form_submit"}).then(s=>{l.set("recaptcha-response",s),e(a,r,l)})}catch(s){n(a,s)}}):n(a,"The reCaptcha javascript API url is not loaded!"):e(a,r,l)})});function e(t,c,a){fetch(c,{method:"POST",body:a,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(r=>{if(r.ok)return r.text();throw new Error(`${r.status} ${r.statusText} ${r.url}`)}).then(r=>{if(t.querySelector(".loading").classList.remove("d-block"),r.trim()=="OK")t.querySelector(".sent-message").classList.add("d-block"),t.reset();else throw new Error(r||"Form submission failed and no error message returned from: "+c)}).catch(r=>{n(t,r)})}function n(t,c){t.querySelector(".loading").classList.remove("d-block"),t.querySelector(".error-message").innerHTML=c,t.querySelector(".error-message").classList.add("d-block")}});function u(o,e){document.addEventListener("click",function(n){n.target.matches(o)&&e(n)})}document.querySelectorAll(".members-nav a").forEach(function(o){o.addEventListener("click",function(e){let n=document.querySelector(".members-nav a.active");n&&n.classList.remove("active"),this.classList.add("active");var t=this.getAttribute("href");history.pushState(null,null,t)})});u(".members-projects .starter .btn-select",function(o){o.preventDefault();let e=o.target,n=document.querySelector(".members-projects .starter.active");n&&n.classList.remove("active"),e.closest(".starter").classList.add("active");let t=document.querySelector("#new-builder-project"),c=t.querySelector('input[name="starter"]');c.value=e.getAttribute("data-template");let a=t.querySelector('input[name="created"]');a.value=w()});function w(){let o=new Date,e=i=>String(i).padStart(2,"0"),n=o.getFullYear(),t=e(o.getMonth()+1),c=e(o.getDate()),a=e(o.getHours()),r=e(o.getMinutes());return`${n}-${t}-${c} ${a}:${r}`}var y=null;u(".rename-project",function(o){o.preventDefault();let e=document.getElementById("renameProject");y=new bootstrap.Modal(e,{keyboard:!1});let t=o.target.getAttribute("data-project"),a=document.getElementById("builder-project-"+t).querySelector(".builder-project-name").textContent;e.querySelector('input[name="project_name"]').value=a,e.querySelector('input[name="project_id"]').value=t,y.show()});u("#renameProjectForm .btn-primary",function(o){o.preventDefault();let e=document.getElementById("renameProject"),n=document.getElementById("renameProjectForm"),t=n.querySelector('input[name="project_name"]').value,c=n.querySelector('input[name="project_id"]').value,a=new FormData(n);a.append("ajax","true"),a.append("project_id",c),a.append("project_name",t),e.querySelector(".modal-footer").innerHTML='<div class="loading mb-1" style="display: block;"></div>'+e.querySelector(".modal-footer").innerHTML,window.fetch(n.action,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:a}).then(r=>{if(r.ok)return r.text();throw new Error(`${r.status} ${r.statusText}`)}).then(r=>{if(n.querySelector(".loading").remove(),r.includes("Error"))alert(r);else{let i=document.getElementById("builder-project-"+c);i.querySelector(".builder-project-name").textContent=r,i.querySelector(".delete-project-link").setAttribute("data-confirm","Are you sure you want to delete the project: "+r+"?"),y.hide()}}).catch(r=>{console.log(r),n.querySelector(".loading").remove()})});var q=null;u(".duplicate-project",function(o){o.preventDefault();let e=document.getElementById("duplicateProject");q=new bootstrap.Modal(e,{keyboard:!1});let t=o.target.getAttribute("data-project"),a=document.getElementById("builder-project-"+t).querySelector(".builder-project-name").textContent;e.querySelector('input[name="current_project_name"]').value=a,e.querySelector('input[name="project_id"]').value=t,q.show()});u("#duplicateProjectForm .btn-primary",function(o){o.preventDefault();let e=document.getElementById("duplicateProject"),n=document.getElementById("duplicateProjectForm"),t=n.querySelector('input[name="project_name"]').value,c=n.querySelector('input[name="project_id"]').value,a=new FormData(n);a.append("ajax","true"),a.append("project_id",c),a.append("project_name",t),a.append("created",w()),e.querySelector(".modal-footer").innerHTML='<div class="loading mb-1" style="display: block;"></div>'+e.querySelector(".modal-footer").innerHTML,window.fetch(n.action,{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:a}).then(r=>{if(r.ok)return r.text();throw new Error(`${r.status} ${r.statusText}`)}).then(r=>{n.querySelector(".loading").remove(),r.includes("Error")?alert(r):window.location.reload()}).catch(r=>{console.log(r),n.querySelector(".loading").remove()})});document.addEventListener("DOMContentLoaded",()=>{"use strict";document.querySelectorAll(".init-payment").forEach(function(n){n.addEventListener("submit",function(t){t.preventDefault();let c=this,a=c.getAttribute("action");c.querySelector(".payment-loading").classList.add("d-block"),c.querySelector(".payment-error").classList.remove("d-block");let r=new FormData(c);fetch(a,{method:"POST",body:r,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(i=>{if(!i.ok)throw new Error("Network response was not ok "+i.statusText);return i.json()}).then(i=>{if(c.querySelector(".payment-loading").classList.remove("d-block"),i.error)throw new Error(i.error);if(!i.transaction_id||!i.token)throw console.log(i),new Error("Invalid response from server");{i.sandbox&&Paddle.Environment.set("sandbox"),Paddle.Initialize({token:i.token});let l={theme:"light",locale:"en",showAddDiscounts:!1};i.redirect&&(l.successUrl=i.redirect);let s={transactionId:i.transaction_id,settings:l};i.user_email&&(s.customer={email:i.user_email}),Paddle.Checkout.open(s)}}).catch(i=>{c.querySelector(".payment-loading").classList.remove("d-block"),c.querySelector(".payment-error").innerHTML=i,c.querySelector(".payment-error").classList.add("d-block")})})}),document.querySelectorAll(".license-items li").forEach(function(n){n.addEventListener("click",function(t){let c=this.parentElement.querySelector(".active");c&&c.classList.remove("active"),this.classList.add("active"),this.querySelector(".select-the-license").checked=!0})});let e=document.querySelector("#payment-confirm");if(e){document.querySelector("#payment-confirm .loading").classList.add("d-block");let n=new FormData;n.append("transaction",e.getAttribute("data-transaction")),n.append("confirm",e.getAttribute("data-confirm")),window.fetch(e.getAttribute("data-url"),{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},body:n}).then(t=>{if(t.ok)return t.text();throw new Error(`${t.status} ${t.statusText}`)}).then(t=>{t.includes("error")?document.querySelector("#payment-confirm .loading").outerHTML=t:window.location.href=t}).catch(t=>{console.log(t)})}});})();
